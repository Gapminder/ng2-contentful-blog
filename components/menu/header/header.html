<div *ngIf="collapsed">
  <div class="navbar-header hidden-md-up">
    <div class="navbar-toggle navbar-toggler pull-right menu-mobile" (click)="isCollapsed = !isCollapsed"
         [ngClass]="isCollapsed ? 'open' : '' ">
      <div class="icon"></div>
    </div>
  </div>


  <nav class="visible-xs hidden-md-up">
    <ul class="nav nav-pills nav-stacked scrollable-menu" [collapse]="!isCollapsed"
        (click)="isCollapsed = !isCollapsed; true">
      <li dropdown *ngFor="let item of menu">
        <a *ngIf="item.fields.entryPoint && !item.fields.submenus"
           [routerLink]="[routesGatewayService.getRouteName(item.fields.entryPoint.fields.slug)]"
           angulartics2On="click"
           angularticsEvent="{{item.fields.name}}">
          {{item.fields.name}}
        </a>
        <a *ngIf="item.fields.submenus && item.fields.entryPoint || item.fields.submenus" dropdownToggle>
          {{ item.fields.name }}
        </a>
        <ul class="dropdown-menu mobile" role="menu" aria-labelledby="simple-dropdown"
            *ngIf="item.fields.submenus">
          <li *ngFor="let submenu of item.fields.submenus">
            <a [routerLink]="[routesGatewayService.getRouteName(submenu.fields.entryPoint.fields.slug)]"
               angulartics2On="click"
               angularticsEvent="{{submenu.fields.name}}"
               class="dropdown-item">
              <img
                *ngIf="submenu.fields.thumbnail"
                [gmContentfulSrcId]="submenu.fields.thumbnail.sys.id"
                class="frame-img">
              {{submenu.fields.name}}
              <span>{{item.fields.description}}</span>
            </a>
          </li>

        </ul>
      </li>
    </ul>
  </nav>


  <nav class="hidden-xs hidden-xs-down">
    <ul class="nav navbar-nav">
      <li *ngFor="let item of menu">
        <a *ngIf="item.fields.entryPoint && !item.fields.submenus"
           [routerLink]="[routesGatewayService.getRouteName(item.fields.entryPoint.fields.slug)]"
           angulartics2On="click"
           angularticsEvent="{{item.fields.name}}">
          {{item.fields.name}}
        </a>

        <a *ngIf="item.fields.submenus && item.fields.entryPoint || item.fields.submenus">
          {{ item.fields.name }}
        </a>
        <ul class="dropdown-menu diff" role="menu"
            *ngIf="item.fields.submenus">
          <li *ngFor="let submenu of item.fields.submenus">
            <a [routerLink]="[routesGatewayService.getRouteName(submenu.fields.entryPoint.fields.slug)]"
               angulartics2On="click"
               angularticsEvent="{{submenu.fields.name}}"
               class="dropdown-item">
              <img
                *ngIf="submenu.fields.thumbnail"
                [gmContentfulSrcId]="submenu.fields.thumbnail.sys.id"
                class="frame-img">
              {{submenu.fields.name}}
              <span>{{item.fields.description}}</span>
            </a>
          </li>
        </ul>
      </li>
    </ul>

  </nav>
</div>
